# ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Vercel Blob –∑–∞–≤–µ—Ä—à–µ–Ω–∞!

## üéØ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å PostgreSQL –Ω–∞ **Vercel Blob** - —Ç–µ–ø–µ—Ä—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞–º–Ω–æ–≥–æ –ø—Ä–æ—â–µ!

### ‚úÖ **–£–¥–∞–ª–µ–Ω–æ (–±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–æ):**
- ‚ùå PostgreSQL –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚ùå –°–ª–æ–∂–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (8 –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö)
- ‚ùå –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚ùå –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º

### ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ Vercel Blob –∞–¥–∞–ø—Ç–µ—Ä (`blob-storage.ts`)
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (—Ç–æ–ª—å–∫–æ 2 –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ JSON —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –≤ –æ–±–ª–∞–∫–µ

## üöÄ –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –†–∞–Ω—å—à–µ (PostgreSQL):
```bash
# 8 –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è!
POSTGRES_URL=...
POSTGRES_PRISMA_URL=...
POSTGRES_URL_NON_POOLING=...
POSTGRES_USER=...
POSTGRES_HOST=...
POSTGRES_PASSWORD=...
POSTGRES_DATABASE=...
JWT_SECRET=...
```

### –¢–µ–ø–µ—Ä—å (Vercel Blob):
```bash
# –¢–æ–ª—å–∫–æ 2 –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ!
BLOB_READ_WRITE_TOKEN=vercel_blob_rw_–≤–∞—à_—Ç–æ–∫–µ–Ω
JWT_SECRET=–≤–∞—à_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á
```

## üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é

### 1. –°–æ–∑–¥–∞–π—Ç–µ Blob Storage –≤ Vercel:
- Dashboard ‚Üí –≤–∞—à –ø—Ä–æ–µ–∫—Ç ‚Üí Storage ‚Üí Create Database ‚Üí **Blob**
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `BLOB_READ_WRITE_TOKEN`

### 2. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
- Settings ‚Üí Environment Variables
- –î–æ–±–∞–≤—å—Ç–µ `BLOB_READ_WRITE_TOKEN` –∏ `JWT_SECRET`

### 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç:
- Deployments ‚Üí —Ç—Ä–∏ —Ç–æ—á–∫–∏ ‚Üí Redeploy

### 4. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ:
```bash
curl -X POST "https://–≤–∞—à-–¥–æ–º–µ–Ω.vercel.app/api/init-db?loadContent=true"
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:
- **–§–∞–π–ª:** `bitrix24-database.json` –≤ Vercel Blob
- **–§–æ—Ä–º–∞—Ç:** JSON —Å–æ –≤—Å–µ–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- **–î–æ—Å—Ç—É–ø:** REST API —á–µ—Ä–µ–∑ @vercel/blob

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:
```json
{
  "users": [...],
  "courses": [...],
  "lessons": [...],
  "tests": [...],
  "test_questions": [...],
  "test_results": [...],
  "last_ids": {...}
}
```

## ‚ú® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Vercel Blob

1. **–ü—Ä–æ—Å—Ç–æ—Ç–∞:** –ù–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
2. **–°–∫–æ—Ä–æ—Å—Ç—å:** –ë—ã—Å—Ç—Ä–æ–µ —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å
3. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã
4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
5. **–°—Ç–æ–∏–º–æ—Å—Ç—å:** –î–µ—à–µ–≤–ª–µ PostgreSQL

## üéØ –°—Ç–∞—Ç—É—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã:
- API –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (`/api/auth/*`)
- API –¥–ª—è –∫—É—Ä—Å–æ–≤ (`/api/courses/*`)
- API –¥–ª—è —É—Ä–æ–∫–æ–≤ (`/api/lessons/*`)
- API –¥–ª—è —Ç–µ—Å—Ç–æ–≤ (`/api/tests/*`)
- API –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ (`/api/test-questions/*`)
- API –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (`/api/test-results/*`)
- –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞
- –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã:
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç SystemStatus
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- README –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üö¶ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã:** –ù–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å "‚úÖ Vercel Blob: –ü–æ–¥–∫–ª—é—á–µ–Ω"
2. **–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É:** `admin@bitrix24course.ru` / `admin123`
3. **–ö—É—Ä—Å—ã:** –î–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è 4 –∫—É—Ä—Å–∞
4. **API –∑–¥–æ—Ä–æ–≤—å—è:** `/api/health` –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `"status": "healthy"`

## üìû –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Vercel**
2. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Blob Storage —Å–æ–∑–¥–∞–Ω**
3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç**
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Vercel Dashboard**

---

**üéâ –¢–µ–ø–µ—Ä—å –≤–∞—à –ø—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ –Ω–∞ Vercel —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π!**