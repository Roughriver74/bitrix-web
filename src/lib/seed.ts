import Database from 'better-sqlite3';

const db = new Database('bitrix24_course.db');

// Контент для уроков
const lessonContent = {
  tasks: `# Основы работы с задачами в Битрикс24

## Что такое задачи в Битрикс24?

Задачи в Битрикс24 — это основной инструмент для планирования и контроля рабочих процессов. Они позволяют:
- Организовать работу команды
- Отслеживать прогресс выполнения работ
- Контролировать сроки и дедлайны
- Делегировать полномочия

## Создание задач

### Быстрое создание задачи
1. Нажмите на кнопку "+" в верхней панели
2. Выберите "Задача"
3. Заполните основную информацию:
   - Название задачи
   - Исполнитель
   - Срок выполнения

### Расширенные настройки
- **Приоритет**: Низкий, Обычный, Высокий, Критический
- **Проект**: Привязка к конкретному проекту
- **Теги**: Для группировки и поиска
- **Наблюдатели**: Сотрудники, которые будут получать уведомления
- **Файлы**: Прикрепление документов и изображений

## Статусы задач

1. **Новая** - только что созданная задача
2. **В работе** - задача принята в работу исполнителем
3. **Ждет контроля** - задача выполнена, ожидает проверки
4. **Завершена** - задача полностью выполнена
5. **Отложена** - временно приостановлена

## Работа с проектами

### Создание проекта
1. Перейдите в раздел "Проекты"
2. Нажмите "Создать проект"
3. Заполните информацию о проекте
4. Добавьте участников

### Планирование проекта
- **Диаграмма Ганта** - визуальное планирование временных рамок
- **Канбан-доска** - управление задачами по статусам
- **Календарь проекта** - временное планирование
- **Отчеты** - анализ прогресса

## Делегирование задач

### Принципы эффективного делегирования
1. **Четкое описание** - что нужно сделать
2. **Конкретные сроки** - когда должно быть выполнено
3. **Ответственный** - кто будет выполнять
4. **Контроль** - как проверить результат

### Смена исполнителя
1. Откройте задачу
2. Нажмите "Изменить"
3. Выберите нового исполнителя
4. Добавьте комментарий о причине смены

## Уведомления и контроль

### Настройка уведомлений
- По email
- В мобильном приложении
- В браузере

### Контроль выполнения
- Регулярные отчеты о статусе
- Комментарии к задачам
- Отслеживание времени выполнения

## Практические советы

1. **Используйте шаблоны** для повторяющихся задач
2. **Устанавливайте реалистичные сроки**
3. **Добавляйте подробные описания** и инструкции
4. **Регулярно проверяйте статус** выполнения задач
5. **Анализируйте эффективность** через отчеты

## Интеграция с другими модулями

- **Календарь** - планирование встреч по задачам
- **Чаты** - обсуждение задач
- **Документы** - прикрепление файлов
- **CRM** - связь с клиентами и сделками`,

  filters: `# Фильтры и поиск в Битрикс24

## Введение в систему фильтров

Система фильтров в Битрикс24 позволяет быстро находить нужную информацию среди больших массивов данных. Эффективное использование фильтров экономит время и повышает продуктивность работы.

## Основные типы фильтров

### 1. Быстрые фильтры
- Предустановленные фильтры для часто используемых запросов
- Доступны в один клик
- Настраиваются администратором

### 2. Расширенные фильтры
- Детальная настройка критериев поиска
- Комбинирование множественных условий
- Сохранение пользовательских фильтров

### 3. Контекстные фильтры
- Автоматически применяются в зависимости от контекста
- Фильтрация по текущему пользователю
- Временные рамки

## Работа с фильтрами в задачах

### Фильтрация задач по статусу
1. Откройте список задач
2. Выберите нужный статус в фильтре
3. Примените фильтр

### Фильтрация по исполнителю
- Выберите конкретного сотрудника
- Или группу сотрудников
- Можно исключить определенных исполнителей

### Фильтрация по проекту
- Выберите один или несколько проектов
- Фильтрация по типу проекта
- Исключение завершенных проектов

### Временные фильтры
- **Сегодня** - задачи на сегодня
- **На неделе** - задачи на текущую неделю
- **Просроченные** - задачи с истекшим сроком
- **Настраиваемый период** - произвольный диапазон дат

## Поиск в документах

### Полнотекстовый поиск
1. Введите ключевые слова в поле поиска
2. Система найдет все документы с этими словами
3. Результаты ранжируются по релевантности

### Поиск по метаданным
- Поиск по автору документа
- Поиск по дате создания
- Поиск по типу документа
- Поиск по размеру файла

### Поиск в содержимом
- Поиск внутри текстовых файлов
- Поиск в PDF документах
- Поиск в презентациях
- Поиск в таблицах

## Фильтры в CRM

### Фильтрация лидов
- По источнику лида
- По статусу
- По ответственному
- По дате создания

### Фильтрация сделок
- По стадии сделки
- По сумме сделки
- По вероятности закрытия
- По клиенту

### Фильтрация клиентов
- По типу клиента (физ/юр лицо)
- По региону
- По дате последнего контакта
- По объему покупок

## Создание пользовательских фильтров

### Шаги создания
1. Настройте нужные критерии фильтрации
2. Нажмите "Сохранить фильтр"
3. Дайте название фильтру
4. Выберите уровень доступа (личный/общий)

### Управление фильтрами
- Редактирование существующих фильтров
- Удаление неактуальных фильтров
- Копирование фильтров
- Экспорт/импорт настроек

## Глобальный поиск

### Возможности глобального поиска
- Поиск по всем модулям одновременно
- Поиск по ключевым словам
- Поиск по типу объекта
- Поиск по автору/создателю

### Настройка поиска
1. Откройте глобальный поиск (Ctrl+F)
2. Введите поисковый запрос
3. Выберите модули для поиска
4. Настройте дополнительные фильтры

## Практические примеры

### Пример 1: Поиск просроченных задач
1. Откройте раздел "Задачи"
2. Выберите фильтр "Просроченные"
3. Дополнительно отфильтруйте по исполнителю
4. Получите список задач требующих внимания

### Пример 2: Поиск документов за месяц
1. Откройте раздел "Документы"
2. Выберите фильтр по дате создания
3. Укажите диапазон дат (последний месяц)
4. Дополнительно отфильтруйте по типу документа

### Пример 3: Поиск активных сделок
1. Откройте CRM раздел "Сделки"
2. Исключите завершенные сделки
3. Отфильтруйте по ответственному
4. Отсортируйте по дате создания

## Советы по эффективному использованию

1. **Создавайте часто используемые фильтры** для быстрого доступа
2. **Используйте комбинации фильтров** для точного поиска
3. **Регулярно очищайте** список сохраненных фильтров
4. **Изучайте новые возможности** фильтрации в обновлениях
5. **Делитесь полезными фильтрами** с коллегами

## Горячие клавиши

- **Ctrl+F** - открыть глобальный поиск
- **Ctrl+Shift+F** - открыть расширенный поиск
- **F3** - повторить последний поиск
- **Escape** - очистить поиск

## Решение проблем

### Если поиск не дает результатов
1. Проверьте правильность написания
2. Используйте синонимы
3. Упростите поисковый запрос
4. Проверьте настройки фильтров

### Если фильтры работают медленно
1. Сократите диапазон дат
2. Уменьшите количество критериев
3. Используйте индексированные поля
4. Обратитесь к администратору`,

  calendar: `# Календарь в Битрикс24

## Основы работы с календарем

Календарь в Битрикс24 — это центральный инструмент для планирования времени, организации встреч и контроля рабочего расписания. Он интегрирован со всеми модулями системы.

## Типы календарей

### 1. Личный календарь
- Индивидуальные события и встречи
- Личные напоминания
- Приватные записи

### 2. Групповой календарь
- События для всей команды
- Общие встречи
- Корпоративные мероприятия

### 3. Календарь проекта
- События связанные с конкретным проектом
- Дедлайны и этапы
- Встречи по проекту

## Создание событий

### Быстрое создание события
1. Нажмите на нужную дату в календаре
2. Введите название события
3. Нажмите Enter

### Детальная настройка события
- **Название** - описательное имя события
- **Дата и время** - когда происходит событие
- **Длительность** - как долго длится
- **Место** - где происходит
- **Участники** - кто будет участвовать
- **Описание** - подробная информация

## Планирование встреч

### Организация встречи
1. Создайте новое событие
2. Добавьте участников
3. Выберите время удобное для всех
4. Отправьте приглашения

### Проверка занятости
- Просмотр календарей участников
- Поиск свободного времени
- Предложение альтернативных вариантов

### Управление приглашениями
- Отправка приглашений
- Отслеживание ответов
- Напоминания участникам

## Повторяющиеся события

### Типы повторений
- **Ежедневно** - каждый день
- **Еженедельно** - каждую неделю
- **Ежемесячно** - каждый месяц
- **Ежегодно** - каждый год
- **Настраиваемое** - по дням недели, датам

### Управление серией событий
- Редактирование одного события
- Редактирование всей серии
- Удаление отдельных событий

## Интеграция с задачами

### Создание задач из событий
1. Откройте событие календаря
2. Нажмите "Создать задачу"
3. Заполните детали задачи
4. Привяжите к проекту

### Отображение дедлайнов
- Сроки выполнения задач в календаре
- Напоминания о приближающихся дедлайнах
- Цветовая индикация приоритетов

## Совместная работа

### Общий доступ к календарю
- Настройка прав доступа
- Публичные календари
- Календари отделов

### Согласование времени
- Поиск общих свободных промежутков
- Голосование за время встречи
- Автоматическое планирование

## Уведомления и напоминания

### Типы уведомлений
- **Email** - на почту
- **Браузер** - в веб-интерфейсе
- **Мобильное приложение** - на телефон
- **SMS** - текстовое сообщение

### Настройка напоминаний
- За 15 минут до события
- За час до события
- За день до события
- Настраиваемое время

## Синхронизация с внешними календарями

### Поддерживаемые системы
- Google Calendar
- Outlook
- iCal
- Exchange

### Настройка синхронизации
1. Откройте настройки календаря
2. Выберите "Синхронизация"
3. Укажите данные внешнего календаря
4. Настройте параметры синхронизации

## Мобильный календарь

### Функции мобильного приложения
- Просмотр событий
- Создание быстрых встреч
- Push-уведомления
- Работа офлайн

### Синхронизация с устройством
- Автоматическая синхронизация
- Двусторонняя синхронизация
- Конфликты и их разрешение

## Отчеты и аналитика

### Отчеты по времени
- Загруженность сотрудников
- Время встреч по проектам
- Эффективность планирования

### Аналитика встреч
- Частота встреч
- Длительность событий
- Участие в мероприятиях

## Практические советы

### Эффективное планирование
1. **Блокируйте время** для важных дел
2. **Группируйте похожие встречи** в один день
3. **Оставляйте буферы** между встречами
4. **Используйте категории** для группировки событий

### Настройка представлений
- **День** - детальный вид на день
- **Неделя** - планирование на неделю
- **Месяц** - общий обзор
- **Год** - долгосрочное планирование

## Решение проблем

### Конфликты в расписании
1. Проверьте доступность участников
2. Предложите альтернативное время
3. Измените формат встречи
4. Разделите на несколько событий

### Проблемы синхронизации
1. Проверьте настройки подключения
2. Обновите токены доступа
3. Проверьте интернет-соединение
4. Обратитесь к администратору`,

  chats: `# Чаты и коммуникации в Битрикс24

## Введение в систему коммуникаций

Система коммуникаций в Битрикс24 включает в себя различные инструменты для общения: чаты, видеозвонки, уведомления и интеграцию с социальными сетями. Это основа для эффективной командной работы.

## Типы чатов

### 1. Личные чаты
- Приватное общение между двумя пользователями
- История сообщений
- Обмен файлами

### 2. Групповые чаты
- Общение в команде
- Обсуждение проектов
- Координация работы

### 3. Чаты проектов
- Автоматически создаются для каждого проекта
- Все участники проекта добавляются автоматически
- Интеграция с задачами

### 4. Открытые чаты
- Доступны всем сотрудникам
- Общие объявления
- Обмен опытом

## Создание и управление чатами

### Создание группового чата
1. Нажмите кнопку "Создать чат"
2. Выберите "Групповой чат"
3. Введите название чата
4. Добавьте участников
5. Настройте права доступа

### Управление участниками
- Добавление новых участников
- Удаление участников
- Назначение модераторов
- Изменение прав доступа

### Настройки чата
- **Название и описание** чата
- **Аватар** чата
- **Уведомления** для участников
- **Архивирование** сообщений

## Функции сообщений

### Форматирование текста
- **Жирный** текст
- *Курсив*
- ~~Зачеркнутый~~ текст
- \`Код\`
- Цитаты
- Списки

### Специальные возможности
- **Упоминания** участников (@username)
- **Ответы** на сообщения
- **Реакции** на сообщения
- **Закрепление** важных сообщений

### Работа с файлами
- Отправка документов
- Предварительный просмотр изображений
- Совместное редактирование файлов
- Версионность документов

## Видеозвонки и конференции

### Индивидуальные видеозвонки
1. Откройте чат с пользователем
2. Нажмите кнопку "Видеозвонок"
3. Дождитесь ответа собеседника
4. Начните разговор

### Групповые видеоконференции
- Создание конференции на несколько участников
- Демонстрация экрана
- Запись конференции
- Чат во время звонка

### Управление звонком
- **Выключение/включение** микрофона
- **Выключение/включение** камеры
- **Демонстрация экрана**
- **Запись** разговора
- **Приглашение** новых участников

## Уведомления

### Типы уведомлений
- **Desktop** уведомления в браузере
- **Email** уведомления
- **Push** уведомления в мобильном приложении
- **SMS** уведомления

### Настройка уведомлений
1. Откройте настройки профиля
2. Перейдите в раздел "Уведомления"
3. Настройте для каждого типа событий
4. Сохраните изменения

### Управление уведомлениями
- Отключение уведомлений для конкретного чата
- Настройка расписания уведомлений
- Фильтрация по важности
- Группировка уведомлений

## Интеграция с другими модулями

### Связь с задачами
- Создание задач из сообщений
- Обсуждение задач в чатах
- Уведомления о изменениях в задачах

### Связь с календарем
- Планирование встреч из чата
- Напоминания о событиях
- Совместное планирование

### Связь с CRM
- Чаты с клиентами
- История коммуникаций
- Автоматические уведомления

## Мобильные коммуникации

### Мобильное приложение
- Доступ ко всем чатам
- Push-уведомления
- Голосовые сообщения
- Отправка фотографий

### Функции мобильного чата
- Быстрые ответы
- Статусы прочтения
- Геолокация
- Контакты устройства

## Эмодзи и стикеры

### Использование эмодзи
- Библиотека эмодзи
- Быстрый доступ к часто используемым
- Реакции на сообщения

### Стикеры
- Наборы стикеров
- Создание пользовательских стикеров
- Управление коллекцией

## Безопасность и приватность

### Безопасность сообщений
- Шифрование сообщений
- Контроль доступа
- Аудит сообщений
- Резервное копирование

### Настройки приватности
- Кто может писать сообщения
- Видимость статуса "онлайн"
- Сохранение истории
- Удаление сообщений

## Поиск в сообщениях

### Поиск по тексту
1. Откройте поиск в чате
2. Введите ключевые слова
3. Выберите фильтры
4. Просмотрите результаты

### Расширенный поиск
- Поиск по автору
- Поиск по дате
- Поиск по типу файла
- Поиск с использованием фильтров

## Автоматизация коммуникаций

### Чат-боты
- Автоматические ответы
- Обработка запросов
- Интеграция с внешними системами
- Настройка сценариев

### Автоуведомления
- Уведомления о событиях системы
- Напоминания о задачах
- Статусы процессов
- Отчеты и аналитика

## Практические советы

### Эффективное общение
1. **Используйте четкие заголовки** для чатов
2. **Структурируйте сообщения** для лучшего понимания
3. **Используйте упоминания** для привлечения внимания
4. **Своевременно отвечайте** на сообщения
5. **Используйте статусы** для информирования о доступности

### Организация рабочих чатов
- Создавайте отдельные чаты для разных проектов
- Используйте описания чатов
- Регулярно архивируйте неактивные чаты
- Назначайте модераторов в больших группах

## Решение проблем

### Проблемы с уведомлениями
1. Проверьте настройки уведомлений
2. Убедитесь в правильности email
3. Проверьте настройки браузера
4. Перезагрузите приложение

### Проблемы с видеозвонками
1. Проверьте подключение к интернету
2. Разрешите доступ к камере и микрофону
3. Обновите браузер
4. Проверьте настройки брандмауэра`,

  disk: `# Битрикс24.Диск

## Введение в систему управления файлами

Битрикс24.Диск — это облачное хранилище для работы с файлами и документами. Он обеспечивает централизованное хранение, совместную работу и синхронизацию файлов между устройствами.

## Структура файлового хранилища

### Типы дисков
1. **Мой диск** - личные файлы пользователя
2. **Общий диск** - файлы доступные всем
3. **Диски групп** - файлы рабочих групп
4. **Диски проектов** - файлы конкретных проектов

### Организация файлов
- **Папки** - для группировки файлов
- **Версии** - история изменений файлов
- **Теги** - для категоризации
- **Метаданные** - дополнительная информация

## Загрузка и управление файлами

### Способы загрузки файлов
1. **Drag & Drop** - перетаскивание файлов
2. **Кнопка "Загрузить"** - выбор файлов
3. **Синхронизация** - автоматическая загрузка
4. **Email** - отправка файлов на email диска

### Поддерживаемые форматы
- **Документы**: DOC, DOCX, PDF, TXT, RTF
- **Таблицы**: XLS, XLSX, CSV
- **Презентации**: PPT, PPTX
- **Изображения**: JPG, PNG, GIF, BMP
- **Видео**: MP4, AVI, MOV
- **Аудио**: MP3, WAV, OGG

### Управление файлами
- **Переименование** файлов
- **Перемещение** между папками
- **Копирование** файлов
- **Удаление** и восстановление
- **Создание ярлыков**

## Совместная работа с документами

### Совместное редактирование
1. Откройте документ в онлайн-редакторе
2. Пригласите соавторов
3. Работайте одновременно
4. Отслеживайте изменения

### Контроль версий
- Автоматическое создание версий
- Просмотр истории изменений
- Восстановление предыдущих версий
- Сравнение версий

### Комментарии и рецензирование
- Добавление комментариев к документам
- Режим рецензирования
- Отслеживание исправлений
- Утверждение изменений

## Права доступа и безопасность

### Уровни доступа
1. **Чтение** - просмотр файлов
2. **Редактирование** - изменение файлов
3. **Полный доступ** - все операции
4. **Администрирование** - управление правами

### Настройка прав доступа
1. Выберите файл или папку
2. Нажмите "Настроить доступ"
3. Добавьте пользователей или группы
4. Установите уровень доступа
5. Сохраните изменения

### Безопасность файлов
- **Шифрование** при передаче
- **Резервное копирование**
- **Аудит доступа**
- **Защита от вирусов**

## Поиск и фильтрация

### Поиск файлов
1. Используйте поле поиска
2. Введите название файла или содержимое
3. Примените фильтры
4. Просмотрите результаты

### Фильтры поиска
- **По типу файла**
- **По размеру**
- **По дате создания**
- **По автору**
- **По тегам**

### Расширенный поиск
- Поиск по содержимому документов
- Поиск в определенных папках
- Поиск по метаданным
- Сохранение поисковых запросов

## Синхронизация с устройствами

### Настройка синхронизации
1. Скачайте клиент синхронизации
2. Установите на компьютер
3. Войдите в учетную запись
4. Выберите папки для синхронизации

### Типы синхронизации
- **Полная** - все файлы диска
- **Выборочная** - только выбранные папки
- **Двусторонняя** - изменения в обе стороны
- **Односторонняя** - только загрузка или скачивание

### Разрешение конфликтов
- Автоматическое разрешение
- Ручное разрешение
- Создание копий
- Выбор версии

## Интеграция с другими модулями

### Связь с задачами
- Прикрепление файлов к задачам
- Автоматическое создание задач из файлов
- Отслеживание изменений в файлах задач

### Связь с календарем
- Прикрепление файлов к событиям
- Документы для встреч
- Автоматическое создание событий

### Связь с CRM
- Файлы клиентов
- Документы сделок
- Контракты и соглашения

## Мобильный доступ

### Мобильное приложение
- Просмотр файлов
- Редактирование документов
- Загрузка фотографий
- Офлайн-доступ

### Функции мобильного диска
- Сканирование документов
- Быстрая загрузка
- Предварительный просмотр
- Совместное редактирование

## Автоматизация и интеграции

### Автоматические действия
- Автоматическое создание папок
- Перемещение файлов по правилам
- Уведомления об изменениях
- Очистка временных файлов

### Внешние интеграции
- **Google Drive** - синхронизация
- **Dropbox** - импорт файлов
- **OneDrive** - совместная работа
- **Электронная почта** - вложения

## Отчеты и аналитика

### Отчеты по использованию
- Объем используемого пространства
- Активность пользователей
- Популярные файлы
- Статистика доступа

### Аналитика файлов
- Частота использования
- Время работы с файлами
- Эффективность совместной работы
- Анализ версий

## Архивирование и восстановление

### Архивирование файлов
1. Выберите файлы для архивирования
2. Нажмите "Создать архив"
3. Выберите формат архива
4. Скачайте архив

### Восстановление файлов
- Восстановление из корзины
- Восстановление из резервных копий
- Восстановление предыдущих версий
- Восстановление после сбоев

## Практические советы

### Организация файлов
1. **Создавайте логическую структуру** папок
2. **Используйте описательные имена** файлов
3. **Добавляйте теги** для лучшего поиска
4. **Регулярно очищайте** неиспользуемые файлы
5. **Настройте автоматическое архивирование**

### Совместная работа
- Используйте онлайн-редакторы для совместной работы
- Настройте уведомления об изменениях
- Создавайте версии перед важными изменениями
- Используйте комментарии для обратной связи

## Решение проблем

### Проблемы с синхронизацией
1. Проверьте подключение к интернету
2. Перезапустите клиент синхронизации
3. Проверьте свободное место на диске
4. Обновите клиент до последней версии

### Проблемы с доступом
1. Проверьте права доступа к файлу
2. Обратитесь к владельцу файла
3. Проверьте корпоративные настройки
4. Очистите кеш браузера`,

  feed: `# Лента активности в Битрикс24

## Что такое лента активности?

Лента активности — это социальная платформа внутри Битрикс24, которая позволяет сотрудникам делиться информацией, обсуждать проекты и поддерживать корпоративную культуру. Это центральное место для внутренних коммуникаций компании.

## Основные возможности ленты

### 1. Публикации
- Создание текстовых сообщений
- Публикация изображений и видео
- Прикрепление файлов и документов
- Ссылки на внешние ресурсы

### 2. Взаимодействие
- **Лайки** - выражение одобрения
- **Комментарии** - обсуждение публикаций
- **Репосты** - распространение информации
- **Подписки** - отслеживание активности

### 3. Группы и сообщества
- Создание тематических групп
- Закрытые и открытые сообщества
- Модерация контента
- Управление участниками

## Создание публикаций

### Типы публикаций
1. **Обычные сообщения** - текст с возможностью форматирования
2. **Опросы** - голосования с вариантами ответов
3. **Важные объявления** - закрепляемые сообщения
4. **Благодарности** - отмечание достижений коллег

### Настройки публикации
- **Аудитория** - кому будет видна публикация
- **Уведомления** - кого уведомить о публикации
- **Категории** - тематические разделы
- **Теги** - ключевые слова для поиска

### Форматирование текста
- **Жирный** и *курсивный* текст
- Списки и нумерация
- Цитаты и блоки кода
- Упоминания пользователей (@username)

## Взаимодействие с контентом

### Комментирование
1. Нажмите "Комментировать" под публикацией
2. Введите свой комментарий
3. Используйте упоминания для привлечения внимания
4. Опубликуйте комментарий

### Система лайков
- Лайки показывают положительную реакцию
- Различные типы реакций (эмодзи)
- Просмотр списка лайкнувших
- Статистика популярности

### Подписки и уведомления
- Подписка на интересные темы
- Уведомления о новых комментариях
- Настройка частоты уведомлений
- Отписка от неинтересных обсуждений

## Работа с группами

### Создание рабочих групп
1. Нажмите "Создать группу"
2. Введите название и описание
3. Выберите тип группы (открытая/закрытая)
4. Добавьте участников
5. Настройте права доступа

### Управление группой
- **Модерация** контента
- **Назначение администраторов**
- **Управление участниками**
- **Настройка правил** группы

### Типы групп
- **Проектные группы** - для работы над проектами
- **Департаментские** - для отделов
- **Хобби-группы** - для неформального общения
- **Объявления** - для важной информации

## Поиск и фильтрация

### Поиск контента
1. Используйте поле поиска в ленте
2. Введите ключевые слова
3. Выберите фильтры
4. Просмотрите результаты

### Фильтры ленты
- **По дате** публикации
- **По автору** сообщения
- **По типу** контента
- **По группам** и сообществам
- **По популярности**

### Персонализация ленты
- Настройка интересов
- Приоритет определенных авторов
- Скрытие неинтересного контента
- Создание пользовательских фильтров

## Интеграция с другими модулями

### Связь с задачами
- Обсуждение задач в ленте
- Создание задач из публикаций
- Отчеты о выполнении в ленте
- Празднование достижений

### Связь с календарем
- Анонсы событий
- Отчеты о мероприятиях
- Фотографии с событий
- Планирование в ленте

### Связь с CRM
- Успехи в продажах
- Отзывы клиентов
- Новые партнерства
- Рыночные новости

## Корпоративная культура

### Построение команды
- Знакомство новых сотрудников
- Празднование достижений
- Обмен опытом
- Неформальное общение

### Корпоративные ценности
- Миссия и видение компании
- Корпоративные новости
- Образовательный контент
- Мотивационные сообщения

### Обратная связь
- Опросы среди сотрудников
- Предложения по улучшению
- Идеи для развития
- Отзывы о работе

## Модерация и безопасность

### Правила публикации
- Корпоративная этика
- Политика конфиденциальности
- Авторские права
- Неприемлемый контент

### Инструменты модерации
- **Жалобы** на контент
- **Блокировка** пользователей
- **Удаление** неподходящих публикаций
- **Предупреждения** нарушителям

### Настройки приватности
- Кто может видеть ваши публикации
- Кто может комментировать
- Настройки уведомлений
- Блокировка нежелательных контактов

## Мобильная лента

### Мобильное приложение
- Просмотр ленты на телефоне
- Создание публикаций
- Быстрые лайки и комментарии
- Push-уведомления

### Функции мобильной ленты
- Загрузка фотографий
- Быстрые опросы
- Геолокация
- Голосовые сообщения

## Аналитика и отчеты

### Метрики активности
- Количество публикаций
- Уровень вовлеченности
- Популярные темы
- Активные пользователи

### Аналитика групп
- Рост участников
- Активность в группах
- Популярный контент
- Время отклика

### Отчеты для руководства
- Общая активность сотрудников
- Эффективность коммуникаций
- Корпоративная культура
- Обратная связь

## Автоматизация

### Автоматические публикации
- Системные уведомления
- Напоминания о событиях
- Отчеты о работе
- Праздничные поздравления

### Интеграции с внешними системами
- Новости из внешних источников
- Интеграция с HR-системами
- Синхронизация с корпоративными системами
- API для разработчиков

## Практические советы

### Эффективное использование ленты
1. **Регулярно публикуйте** интересный контент
2. **Активно участвуйте** в обсуждениях
3. **Используйте хештеги** для категоризации
4. **Поддерживайте позитивную** атмосферу
5. **Делитесь профессиональным опытом**

### Создание интересного контента
- Используйте визуальные элементы
- Задавайте вопросы для обсуждения
- Делитесь полезными ресурсами
- Рассказывайте истории успеха
- Создавайте интерактивные опросы

## Решение проблем

### Проблемы с отображением
1. Обновите страницу
2. Очистите кеш браузера
3. Проверьте подключение к интернету
4. Попробуйте другой браузер

### Проблемы с уведомлениями
1. Проверьте настройки уведомлений
2. Убедитесь в корректности email
3. Проверьте папку спам
4. Обратитесь к администратору`,

  additional: `# Дополнительные функции Битрикс24

## Расширенные возможности платформы

Битрикс24 предлагает множество дополнительных функций, которые значительно расширяют возможности системы и позволяют автоматизировать рабочие процессы.

## Система отчетов и аналитики

### Встроенные отчеты
1. **Отчеты по задачам**
   - Загрузка сотрудников
   - Время выполнения задач
   - Эффективность работы
   - Просроченные задачи

2. **Отчеты по проектам**
   - Прогресс выполнения
   - Бюджет проекта
   - Временные затраты
   - Качество работы

3. **CRM отчеты**
   - Воронка продаж
   - Конверсия лидов
   - Доходность клиентов
   - Прогнозы продаж

### Создание пользовательских отчетов
1. Выберите источник данных
2. Настройте фильтры
3. Выберите поля для отображения
4. Настройте группировку и сортировку
5. Сохраните отчет

### Визуализация данных
- **Диаграммы** - круговые, столбчатые, линейные
- **Графики** - временные ряды, тренды
- **Таблицы** - сводные таблицы
- **Дашборды** - интерактивные панели

## Автоматизация рабочих процессов

### Роботы (Workflow)
- Автоматическое создание задач
- Отправка уведомлений
- Изменение статусов
- Назначение ответственных

### Триггеры
- Реакция на события системы
- Условная логика
- Временные задержки
- Интеграция с внешними системами

### Бизнес-процессы
1. **Согласование документов**
   - Последовательное согласование
   - Параллельное согласование
   - Условные маршруты
   - Эскалация процессов

2. **Обработка заявок**
   - Автоматическое создание
   - Маршрутизация по отделам
   - Контроль сроков
   - Уведомления заявителей

## Интеграции с внешними системами

### Типы интеграций
1. **REST API** - программные интеграции
2. **Webhooks** - реакция на события
3. **1C интеграция** - синхронизация данных
4. **Email интеграция** - работа с почтой

### Популярные интеграции
- **Телефония** - интеграция с АТС
- **Бухгалтерия** - синхронизация с 1С
- **Маркетинг** - интеграция с рекламными системами
- **Логистика** - интеграция с службами доставки

### Настройка интеграций
1. Выберите тип интеграции
2. Настройте подключение
3. Настройте синхронизацию данных
4. Проверьте работу интеграции

## Мобильные приложения

### Основное мобильное приложение
- Доступ ко всем функциям
- Офлайн-режим
- Push-уведомления
- Синхронизация данных

### Специализированные приложения
- **CRM** - для работы с клиентами
- **Задачи** - управление задачами
- **Календарь** - планирование
- **Диск** - работа с файлами

### Функции мобильных приложений
- Создание задач голосом
- Сканирование документов
- Геолокация
- Работа с камерой

## Администрирование системы

### Управление пользователями
1. **Создание пользователей**
   - Добавление новых сотрудников
   - Импорт из Active Directory
   - Массовое создание
   - Временные учетные записи

2. **Настройка прав доступа**
   - Роли и разрешения
   - Группы пользователей
   - Ограничения доступа
   - Аудит действий

### Настройка системы
- **Корпоративные настройки**
- **Брендинг** - логотип, цвета
- **Локализация** - языки, часовые пояса
- **Безопасность** - пароли, двухфакторная аутентификация

### Резервное копирование
- Автоматическое резервное копирование
- Ручное создание резервных копий
- Восстановление данных
- Миграция между серверами

## Безопасность

### Защита данных
1. **Шифрование**
   - Шифрование при передаче
   - Шифрование в хранилище
   - Ключи шифрования
   - Сертификаты SSL

2. **Контроль доступа**
   - Аутентификация пользователей
   - Авторизация по ролям
   - Контроль IP-адресов
   - Временные ограничения

### Аудит и мониторинг
- Логи действий пользователей
- Мониторинг безопасности
- Отчеты о нарушениях
- Анализ угроз

## Настройка интерфейса

### Персонализация
- Настройка рабочего места
- Изменение темы оформления
- Настройка виджетов
- Создание закладок

### Корпоративный дизайн
- Загрузка логотипа компании
- Настройка цветовой схемы
- Создание пользовательских тем
- Брендирование интерфейса

## Расширения и приложения

### Маркетплейс приложений
- Каталог готовых решений
- Установка приложений
- Настройка и конфигурация
- Управление лицензиями

### Разработка приложений
- REST API для разработчиков
- Создание пользовательских приложений
- Интеграция с внешними системами
- Публикация в маркетплейсе

## Многосайтовость

### Управление несколькими порталами
- Централизованное управление
- Единая авторизация
- Общие ресурсы
- Раздельная отчетность

### Настройка доменов
- Настройка поддоменов
- SSL-сертификаты
- Переадресация
- Кастомные домены

## Производительность и оптимизация

### Мониторинг производительности
- Анализ скорости загрузки
- Мониторинг использования ресурсов
- Оптимизация базы данных
- Кеширование данных

### Масштабирование
- Увеличение производительности
- Балансировка нагрузки
- Кластеризация
- Резервирование

## Практические советы

### Планирование внедрения
1. **Анализ потребностей** компании
2. **Поэтапное внедрение** модулей
3. **Обучение сотрудников**
4. **Тестирование** в боевых условиях
5. **Постоянная оптимизация**

### Эффективное использование
- Регулярно обновляйте систему
- Используйте автоматизацию
- Анализируйте отчеты
- Собирайте обратную связь
- Оптимизируйте процессы

## Решение проблем

### Типичные проблемы
1. **Медленная работа**
   - Проверьте подключение
   - Очистите кеш
   - Оптимизируйте запросы
   - Увеличьте ресурсы

2. **Проблемы с доступом**
   - Проверьте права пользователя
   - Проверьте настройки безопасности
   - Обратитесь к администратору
   - Проверьте лицензии

### Техническая поддержка
- Встроенная система поддержки
- Документация и справочники
- Видеоуроки и обучение
- Сообщество пользователей

## Развитие и обучение

### Ресурсы для изучения
- Официальная документация
- Видеокурсы
- Вебинары
- Сертификация специалистов

### Сообщество пользователей
- Форумы и обсуждения
- Обмен опытом
- Лучшие практики
- Решения проблем

Это завершает наш обзор дополнительных функций Битрикс24. Система предлагает множество возможностей для автоматизации и оптимизации рабочих процессов.`
};

// Функция для создания курсов
function createCourses() {
  const courses = [
    {
      title: 'Задачи и проекты в Битрикс24',
      description: 'Освойте создание и управление задачами, работу с проектами и принципы делегирования в Битрикс24',
      order_index: 1
    },
    {
      title: 'Фильтры и поиск в Битрикс24',
      description: 'Научитесь эффективно использовать систему фильтров и расширенный поиск для работы с данными',
      order_index: 2
    },
    {
      title: 'Календарь в Битрикс24',
      description: 'Изучите планирование встреч, мероприятий и интеграцию календаря с другими модулями',
      order_index: 3
    },
    {
      title: 'Чаты и коммуникации в Битрикс24',
      description: 'Освойте внутренние коммуникации, видеозвонки и систему уведомлений',
      order_index: 4
    },
    {
      title: 'Битрикс24.Диск',
      description: 'Научитесь работать с файлами, совместным редактированием и синхронизацией',
      order_index: 5
    },
    {
      title: 'Лента активности',
      description: 'Изучите социальную сеть компании, публикации и взаимодействие с коллегами',
      order_index: 6
    },
    {
      title: 'Дополнительные функции Битрикс24',
      description: 'Познакомьтесь с отчетами, автоматизацией, интеграциями и администрированием',
      order_index: 7
    }
  ];

  courses.forEach(course => {
    db.prepare(`
      INSERT OR REPLACE INTO courses (title, description, order_index)
      VALUES (?, ?, ?)
    `).run(course.title, course.description, course.order_index);
    
    console.log(`Создан курс: ${course.title}`);
  });
}

// Функция для создания уроков
function createLessons() {
  const lessons = [
    {
      course_id: 1,
      title: 'Основы работы с задачами',
      content: lessonContent.tasks,
      order_index: 1
    },
    {
      course_id: 1,
      title: 'Практические задания по задачам',
      content: `# Практические задания по задачам

## Задание 1: Создание задачи
1. Создайте новую задачу "Подготовка презентации"
2. Назначьте себя исполнителем
3. Установите срок выполнения на завтра
4. Добавьте описание задачи

## Задание 2: Работа с приоритетами
1. Создайте 3 задачи с разными приоритетами
2. Отсортируйте задачи по приоритету
3. Измените приоритет одной из задач

## Задание 3: Делегирование
1. Создайте задачу и назначьте другого исполнителя
2. Добавьте наблюдателя к задаче
3. Добавьте комментарий к задаче`,
      order_index: 2
    },
    {
      course_id: 2,
      title: 'Система фильтров и поиска',
      content: lessonContent.filters,
      order_index: 1
    },
    {
      course_id: 2,
      title: 'Практические задания по фильтрам',
      content: `# Практические задания по фильтрам

## Задание 1: Фильтрация задач
1. Откройте список задач
2. Примените фильтр "Мои задачи"
3. Добавьте фильтр по статусу "В работе"
4. Сохраните фильтр как "Мои активные задачи"

## Задание 2: Поиск документов
1. Откройте раздел "Документы"
2. Найдите все PDF файлы
3. Отфильтруйте по дате создания (последняя неделя)
4. Экспортируйте результаты поиска

## Задание 3: Глобальный поиск
1. Используйте глобальный поиск (Ctrl+F)
2. Найдите все упоминания слова "проект"
3. Ограничьте поиск только задачами и документами`,
      order_index: 2
    },
    {
      course_id: 3,
      title: 'Работа с календарем',
      content: lessonContent.calendar,
      order_index: 1
    },
    {
      course_id: 3,
      title: 'Практические задания по календарю',
      content: `# Практические задания по календарю

## Задание 1: Создание события
1. Создайте событие "Планерка команды"
2. Установите время: завтра в 10:00
3. Добавьте 2-3 участника
4. Добавьте описание и место проведения

## Задание 2: Повторяющиеся события
1. Создайте еженедельное событие "Статус-митинг"
2. Установите напоминание за 15 минут
3. Добавьте всех участников команды

## Задание 3: Интеграция с задачами
1. Создайте событие "Дедлайн проекта"
2. Создайте задачу из этого события
3. Привяжите задачу к проекту`,
      order_index: 2
    },
    {
      course_id: 4,
      title: 'Чаты и коммуникации',
      content: lessonContent.chats,
      order_index: 1
    },
    {
      course_id: 4,
      title: 'Практические задания по чатам',
      content: `# Практические задания по чатам

## Задание 1: Создание группового чата
1. Создайте групповой чат "Обсуждение проекта"
2. Добавьте 3-4 участника
3. Отправьте приветственное сообщение
4. Закрепите важное сообщение

## Задание 2: Видеозвонок
1. Начните видеозвонок с коллегой
2. Продемонстрируйте экран
3. Пригласите еще одного участника
4. Запишите короткий фрагмент разговора

## Задание 3: Работа с файлами в чате
1. Отправьте документ в чат
2. Откройте документ для совместного редактирования
3. Добавьте комментарий к документу
4. Уведомите участников об изменениях`,
      order_index: 2
    },
    {
      course_id: 5,
      title: 'Работа с файлами',
      content: lessonContent.disk,
      order_index: 1
    },
    {
      course_id: 5,
      title: 'Практические задания по диску',
      content: `# Практические задания по диску

## Задание 1: Организация файлов
1. Создайте папку "Мои документы"
2. Загрузите 2-3 файла в папку
3. Переименуйте один файл
4. Добавьте теги к файлам

## Задание 2: Совместная работа
1. Создайте новый документ
2. Пригласите коллегу для совместного редактирования
3. Внесите изменения одновременно
4. Просмотрите историю версий

## Задание 3: Настройка доступа
1. Выберите файл или папку
2. Настройте права доступа для конкретного пользователя
3. Создайте публичную ссылку на файл
4. Отправьте ссылку коллеге`,
      order_index: 2
    },
    {
      course_id: 6,
      title: 'Лента активности',
      content: lessonContent.feed,
      order_index: 1
    },
    {
      course_id: 6,
      title: 'Практические задания по ленте',
      content: `# Практические задания по ленте

## Задание 1: Создание публикации
1. Создайте публикацию о завершении проекта
2. Добавьте изображение или файл
3. Упомяните участников проекта (@username)
4. Добавьте соответствующие теги

## Задание 2: Создание группы
1. Создайте группу для вашего отдела
2. Добавьте участников
3. Создайте правила группы
4. Опубликуйте приветственное сообщение

## Задание 3: Взаимодействие с контентом
1. Поставьте лайки нескольким публикациям
2. Оставьте развернутый комментарий
3. Сделайте репост полезной публикации
4. Подпишитесь на интересную тему`,
      order_index: 2
    },
    {
      course_id: 7,
      title: 'Дополнительные возможности',
      content: lessonContent.additional,
      order_index: 1
    },
    {
      course_id: 7,
      title: 'Практические задания по дополнительным функциям',
      content: `# Практические задания по дополнительным функциям

## Задание 1: Создание отчета
1. Откройте раздел "Отчеты"
2. Создайте отчет по задачам за последний месяц
3. Добавьте фильтры по исполнителю
4. Сохраните отчет для повторного использования

## Задание 2: Настройка автоматизации
1. Создайте простого робота для автоматического назначения задач
2. Настройте триггер на создание задачи
3. Добавьте действие "Отправить уведомление"
4. Протестируйте работу автоматизации

## Задание 3: Настройка мобильного приложения
1. Установите мобильное приложение Битрикс24
2. Настройте push-уведомления
3. Создайте задачу через мобильное приложение
4. Ответьте на сообщение в чате`,
      order_index: 2
    }
  ];

  lessons.forEach(lesson => {
    if (lesson.content) {
      db.prepare(`
        INSERT OR REPLACE INTO lessons (course_id, title, content, order_index)
        VALUES (?, ?, ?, ?)
      `).run(lesson.course_id, lesson.title, lesson.content, lesson.order_index);
      
      console.log(`Создан урок: ${lesson.title}`);
    }
  });
}

// Функция для создания тестов
function createTests() {
  const tests = [
    {
      course_id: 1,
      title: 'Тест по модулю "Задачи и проекты"',
      description: 'Проверьте свои знания по работе с задачами и проектами в Битрикс24'
    },
    {
      course_id: 2,
      title: 'Тест по модулю "Фильтры и поиск"',
      description: 'Проверьте свои знания по системе фильтров и поиска в Битрикс24'
    },
    {
      course_id: 3,
      title: 'Тест по модулю "Календарь"',
      description: 'Проверьте свои знания по работе с календарем в Битрикс24'
    },
    {
      course_id: 4,
      title: 'Тест по модулю "Чаты и коммуникации"',
      description: 'Проверьте свои знания по системе коммуникаций в Битрикс24'
    },
    {
      course_id: 5,
      title: 'Тест по модулю "Битрикс24.Диск"',
      description: 'Проверьте свои знания по работе с файлами и документами'
    },
    {
      course_id: 6,
      title: 'Тест по модулю "Лента активности"',
      description: 'Проверьте свои знания по работе с лентой активности'
    },
    {
      course_id: 7,
      title: 'Тест по модулю "Дополнительные функции"',
      description: 'Проверьте свои знания по дополнительным возможностям Битрикс24'
    }
  ];

  tests.forEach(test => {
    db.prepare(`
      INSERT OR REPLACE INTO tests (course_id, title, description)
      VALUES (?, ?, ?)
    `).run(test.course_id, test.title, test.description);
    
    console.log(`Создан тест: ${test.title}`);
  });
}

// Функция для создания вопросов тестов
function createTestQuestions() {
  // Вопросы для теста по задачам (test_id: 1)
  const tasksQuestions = [
    {
      test_id: 1,
      question: 'Какие статусы может иметь задача в Битрикс24?',
      options: JSON.stringify([
        'Новая, В работе, Завершена',
        'Новая, Выполняется, Ждет контроля, Завершена',
        'Создана, В процессе, Готова',
        'Открыта, Закрыта'
      ]),
      correct_answer: 1,
      order_index: 1
    },
    {
      test_id: 1,
      question: 'Как создать повторяющуюся задачу?',
      options: JSON.stringify([
        'Скопировать существующую задачу',
        'Отметить "Повторяющаяся" при создании задачи',
        'Создать шаблон задачи',
        'Использовать автоматизацию'
      ]),
      correct_answer: 1,
      order_index: 2
    },
    {
      test_id: 1,
      question: 'Что такое диаграмма Ганта?',
      options: JSON.stringify([
        'График загрузки сотрудников',
        'Календарь проекта',
        'Инструмент для временного планирования проектов',
        'Отчет по задачам'
      ]),
      correct_answer: 2,
      order_index: 3
    },
    {
      test_id: 1,
      question: 'Какие приоритеты задач доступны в Битрикс24?',
      options: JSON.stringify([
        'Только высокий и низкий',
        'Низкий, Обычный, Высокий, Критический',
        'От 1 до 5',
        'Срочно, Не срочно'
      ]),
      correct_answer: 1,
      order_index: 4
    },
    {
      test_id: 1,
      question: 'Как делегировать задачу другому сотруднику?',
      options: JSON.stringify([
        'Создать новую задачу',
        'Изменить исполнителя в существующей задаче',
        'Отправить сообщение в чат',
        'Использовать календарь'
      ]),
      correct_answer: 1,
      order_index: 5
    }
  ];

  // Вопросы для теста по фильтрам (test_id: 2)
  const filtersQuestions = [
    {
      test_id: 2,
      question: 'Какие типы фильтров доступны в Битрикс24?',
      options: JSON.stringify([
        'Только быстрые фильтры',
        'Быстрые, расширенные и контекстные',
        'Только пользовательские',
        'Простые и сложные'
      ]),
      correct_answer: 1,
      order_index: 1
    },
    {
      test_id: 2,
      question: 'Как открыть глобальный поиск?',
      options: JSON.stringify([
        'Alt+F',
        'Ctrl+F',
        'Ctrl+G',
        'F3'
      ]),
      correct_answer: 1,
      order_index: 2
    },
    {
      test_id: 2,
      question: 'Что можно найти с помощью полнотекстового поиска?',
      options: JSON.stringify([
        'Только названия файлов',
        'Содержимое документов',
        'Только задачи',
        'Только контакты'
      ]),
      correct_answer: 1,
      order_index: 3
    }
  ];

  // Вопросы для теста по календарю (test_id: 3)
  const calendarQuestions = [
    {
      test_id: 3,
      question: 'Какие типы календарей доступны в Битрикс24?',
      options: JSON.stringify([
        'Только личный',
        'Личный, групповой и календарь проекта',
        'Только корпоративный',
        'Рабочий и личный'
      ]),
      correct_answer: 1,
      order_index: 1
    },
    {
      test_id: 3,
      question: 'Как быстро создать событие в календаре?',
      options: JSON.stringify([
        'Через меню "Создать"',
        'Нажать на дату и ввести название',
        'Только через форму',
        'Импортировать из файла'
      ]),
      correct_answer: 1,
      order_index: 2
    },
    {
      test_id: 3,
      question: 'Какие внешние календари поддерживает синхронизация?',
      options: JSON.stringify([
        'Только Google Calendar',
        'Google Calendar, Outlook, iCal, Exchange',
        'Только Microsoft календари',
        'Синхронизация не поддерживается'
      ]),
      correct_answer: 1,
      order_index: 3
    }
  ];

  // Вопросы для теста по чатам (test_id: 4)
  const chatsQuestions = [
    {
      test_id: 4,
      question: 'Какие типы чатов доступны в Битрикс24?',
      options: JSON.stringify([
        'Только личные',
        'Личные, групповые, чаты проектов, открытые',
        'Только корпоративные',
        'Рабочие и личные'
      ]),
      correct_answer: 1,
      order_index: 1
    },
    {
      test_id: 4,
      question: 'Как упомянуть пользователя в сообщении?',
      options: JSON.stringify([
        'Написать имя',
        'Использовать @username',
        'Выделить текст',
        'Отправить личное сообщение'
      ]),
      correct_answer: 1,
      order_index: 2
    },
    {
      test_id: 4,
      question: 'Что можно делать во время видеозвонка?',
      options: JSON.stringify([
        'Только разговаривать',
        'Демонстрировать экран, записывать, приглашать участников',
        'Только видеть собеседника',
        'Отправлять файлы'
      ]),
      correct_answer: 1,
      order_index: 3
    }
  ];

  // Вопросы для теста по диску (test_id: 5)
  const diskQuestions = [
    {
      test_id: 5,
      question: 'Какие типы дисков доступны в Битрикс24?',
      options: JSON.stringify([
        'Только личный диск',
        'Мой диск, общий диск, диски групп, диски проектов',
        'Локальный и облачный',
        'Рабочий и архивный'
      ]),
      correct_answer: 1,
      order_index: 1
    },
    {
      test_id: 5,
      question: 'Как загрузить файлы на диск?',
      options: JSON.stringify([
        'Только через кнопку "Загрузить"',
        'Drag & Drop, кнопка "Загрузить", синхронизация, email',
        'Только через синхронизацию',
        'Только по email'
      ]),
      correct_answer: 1,
      order_index: 2
    },
    {
      test_id: 5,
      question: 'Что такое контроль версий файлов?',
      options: JSON.stringify([
        'Проверка на вирусы',
        'Автоматическое создание и управление версиями документов',
        'Резервное копирование',
        'Шифрование файлов'
      ]),
      correct_answer: 1,
      order_index: 3
    }
  ];

  // Вопросы для теста по ленте (test_id: 6)
  const feedQuestions = [
    {
      test_id: 6,
      question: 'Что такое лента активности в Битрикс24?',
      options: JSON.stringify([
        'Список задач',
        'Социальная платформа для внутренних коммуникаций',
        'Календарь событий',
        'Отчеты о работе'
      ]),
      correct_answer: 1,
      order_index: 1
    },
    {
      test_id: 6,
      question: 'Какие типы публикаций можно создавать?',
      options: JSON.stringify([
        'Только текстовые',
        'Обычные сообщения, опросы, важные объявления, благодарности',
        'Только объявления',
        'Фотографии и видео'
      ]),
      correct_answer: 1,
      order_index: 2
    },
    {
      test_id: 6,
      question: 'Как взаимодействовать с публикациями?',
      options: JSON.stringify([
        'Только читать',
        'Лайки, комментарии, репосты, подписки',
        'Только комментировать',
        'Только лайки'
      ]),
      correct_answer: 1,
      order_index: 3
    }
  ];

  // Вопросы для теста по дополнительным функциям (test_id: 7)
  const additionalQuestions = [
    {
      test_id: 7,
      question: 'Что такое роботы (Workflow) в Битрикс24?',
      options: JSON.stringify([
        'Программы для уборки',
        'Инструменты для автоматизации рабочих процессов',
        'Чат-боты',
        'Системы безопасности'
      ]),
      correct_answer: 1,
      order_index: 1
    },
    {
      test_id: 7,
      question: 'Какие типы отчетов доступны в Битрикс24?',
      options: JSON.stringify([
        'Только по задачам',
        'По задачам, проектам, CRM, пользовательские',
        'Только финансовые',
        'Только по времени'
      ]),
      correct_answer: 1,
      order_index: 2
    },
    {
      test_id: 7,
      question: 'Что такое REST API в Битрикс24?',
      options: JSON.stringify([
        'Система отдыха',
        'Интерфейс для программных интеграций',
        'Протокол безопасности',
        'Система резервного копирования'
      ]),
      correct_answer: 1,
      order_index: 3
    }
  ];

  const allQuestions = [...tasksQuestions, ...filtersQuestions, ...calendarQuestions, ...chatsQuestions, ...diskQuestions, ...feedQuestions, ...additionalQuestions];

  allQuestions.forEach(question => {
    db.prepare(`
      INSERT OR REPLACE INTO test_questions (test_id, question, options, correct_answer, order_index)
      VALUES (?, ?, ?, ?, ?)
    `).run(question.test_id, question.question, question.options, question.correct_answer, question.order_index);
    
    console.log(`Создан вопрос: ${question.question.substring(0, 50)}...`);
  });
}

// Основная функция инициализации
export async function seedDatabase() {
  try {
    console.log('Начинаем наполнение базы данных...');
    
    // Очищаем существующие данные
    db.exec('DELETE FROM test_questions');
    db.exec('DELETE FROM tests');
    db.exec('DELETE FROM lessons');
    db.exec('DELETE FROM courses');
    db.exec('DELETE FROM user_progress');
    db.exec('DELETE FROM test_results');
    
    // Создаем контент
    createCourses();
    createLessons();
    createTests();
    createTestQuestions();
    
    console.log('База данных успешно наполнена!');
    
  } catch (error) {
    console.error('Ошибка при наполнении базы данных:', error);
  }
}

// Запуск, если файл выполняется напрямую
if (require.main === module) {
  seedDatabase();
}