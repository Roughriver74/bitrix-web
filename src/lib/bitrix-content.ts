// Дополнительный контент для курсов Битрикс24

export const advancedLessons = {
  automation: `# Автоматизация в Битрикс24

## Введение в автоматизацию

Автоматизация в Битрикс24 позволяет настроить автоматическое выполнение типовых операций, что существенно экономит время и снижает вероятность ошибок.

### Основные инструменты автоматизации:
- **Роботы** - автоматическое выполнение действий
- **Триггеры** - реакция на события
- **Автоматические правила** - массовая обработка данных
- **Webhook** - интеграция с внешними системами

## Роботы в CRM

### Типы роботов:
1. **Стандартные роботы**
   - Создание задач
   - Отправка email/SMS
   - Изменение ответственного
   - Перемещение по стадиям

2. **Роботы активности**
   - Создание встреч
   - Планирование звонков
   - Отправка документов

3. **Роботы интеграции**
   - Webhook
   - REST API
   - Интеграция с 1С

### Настройка роботов:

#### Создание робота "Отправка приветственного письма":
1. Перейдите в CRM → Настройки → Автоматизация
2. Выберите воронку и стадию
3. Нажмите "+" и выберите "Отправить E-mail"
4. Настройте параметры:
   - **Кому**: из поля "Email"
   - **Тема**: "Добро пожаловать в нашу компанию!"
   - **Текст**: персонализированное сообщение

#### Робот "Создание задачи для менеджера":
\`\`\`
Название: Обработать новый лид
Исполнитель: Ответственный за сделку
Срок: +2 часа от текущего времени
Описание: Связаться с клиентом {{CONTACT_NAME}} по телефону {{CONTACT_PHONE}}
\`\`\`

## Триггеры

### Типы триггеров:
- **Время с момента попадания** - срабатывает через заданное время
- **Время с момента изменения** - реагирует на изменения
- **Пропущенная активность** - если активность не выполнена

### Примеры использования:

#### Триггер "Напоминание о звонке":
- **Условие**: 2 дня без активности
- **Действие**: Создать задачу "Позвонить клиенту"

#### Триггер "Перевод в архив":
- **Условие**: 30 дней без изменений в статусе "Не актуально"
- **Действие**: Переместить в стадию "Архив"

## Маркетинговая автоматизация

### Email-маркетинг:
1. **Настройка воронки писем**
   - Последовательность сообщений
   - Условия перехода
   - A/B тестирование

2. **Сегментация аудитории**
   - По источнику
   - По поведению
   - По демографии

### SMS-рассылки:
- Моментальные уведомления
- Напоминания о встречах
- Подтверждение заказов

## Автоматизация в проектах

### Типовые сценарии:
1. **Создание типовых задач** при старте проекта
2. **Уведомления о просрочках**
3. **Автоматическое назначение ответственных**
4. **Отчеты о статусе проекта**

### Шаблоны проектов:
\`\`\`
Название проекта: Разработка сайта
Задачи:
1. Техническое задание (3 дня)
2. Дизайн макет (5 дней)
3. Верстка (7 дней)
4. Программирование (10 дней)
5. Тестирование (3 дня)
6. Запуск (1 день)
\`\`\`

## Интеграции и Webhook

### REST API Битрикс24:
- Получение данных из внешних систем
- Отправка данных в сторонние сервисы
- Синхронизация с учетными системами

### Популярные интеграции:
- **1С** - обмен клиентами и заказами
- **Телефония** - автоматическое создание сделок
- **Email** - синхронизация писем
- **Социальные сети** - сбор лидов

## Практические кейсы

### Кейс 1: Автоматизация продаж B2B
\`\`\`
1. Новый лид → Создание сделки
2. Первый контакт → Отправка коммерческого предложения
3. Презентация → Планирование встречи
4. Переговоры → Создание счета
5. Закрытие → Передача в отдел доставки
\`\`\`

### Кейс 2: Клиентский сервис
\`\`\`
1. Обращение клиента → Создание задачи
2. Превышение SLA → Уведомление руководителя
3. Решение проблемы → Опрос удовлетворенности
4. Негативная оценка → Эскалация к менеджеру
\`\`\`

## Лучшие практики

### Принципы эффективной автоматизации:
1. **Начинайте с простого** - автоматизируйте типовые процессы
2. **Тестируйте постепенно** - не запускайте все сразу
3. **Мониторьте результаты** - отслеживайте эффективность
4. **Обучайте команду** - все должны понимать процессы

### Частые ошибки:
- Слишком сложная логика с самого начала
- Отсутствие тестирования автоматизации
- Игнорирование исключений и ошибок
- Недостаточное обучение персонала

## Мониторинг и аналитика

### Отчеты по автоматизации:
- Статистика срабатывания роботов
- Эффективность email-кампаний
- Конверсия автоматизированных процессов
- Время выполнения задач

### KPI автоматизации:
- Снижение времени обработки лидов
- Увеличение конверсии
- Уменьшение ручной работы
- Повышение качества данных

## Заключение

Автоматизация в Битрикс24 - это мощный инструмент для повышения эффективности бизнеса. Правильно настроенная автоматизация позволяет:
- Ускорить процессы
- Снизить количество ошибок
- Освободить время для важных задач
- Улучшить качество обслуживания клиентов`,

  integration: `# Интеграции Битрикс24

## Введение в интеграции

Интеграции позволяют связать Битрикс24 с другими системами и сервисами, создавая единую экосистему для бизнеса.

### Типы интеграций:
- **Готовые приложения** из Битрикс24.Маркет
- **REST API** для разработки собственных решений
- **Webhook** для обмена данными в реальном времени
- **Входящие webhook** для получения данных

## Популярные интеграции

### 1. Интеграция с 1С
**Цель**: Синхронизация клиентов, товаров и заказов

**Настройка**:
1. Установить модуль "1С:Битрикс24" в 1С
2. Настроить параметры подключения
3. Выбрать данные для синхронизации
4. Настроить расписание обмена

**Синхронизируемые данные**:
- Контрагенты (клиенты)
- Номенклатура (товары)
- Документы (счета, акты)
- Платежи и поступления

### 2. Телефония
**Популярные провайдеры**:
- Мегафон
- МТС
- Ростелеком
- Виртуальная АТС

**Возможности**:
- Автоматическое создание сделок при входящих звонках
- Запись разговоров
- Аналитика звонков
- Click-to-call из карточки клиента

### 3. Email-маркетинг
**Сервисы**:
- Unisender
- MailChimp
- SendPulse

**Интеграция позволяет**:
- Автоматически добавлять контакты в рассылки
- Отслеживать открытия и клики
- Создавать триггерные кампании

### 4. Социальные сети и мессенджеры
**WhatsApp Business API**:
- Автоматические уведомления
- Поддержка клиентов
- Маркетинговые рассылки

**Instagram**:
- Сбор лидов из Direct
- Анализ комментариев
- Автоответчики

**Telegram**:
- Уведомления о важных событиях
- Чат-бот для клиентов
- Групповые обсуждения проектов

## REST API Битрикс24

### Основные методы:

#### Работа с лидами:
\`\`\`javascript
// Создание лида
BX24.callMethod(
    'crm.lead.add',
    {
        fields: {
            TITLE: 'Новый лид',
            NAME: 'Иван',
            LAST_NAME: 'Петров',
            PHONE: [{ VALUE: '+7(999)123-45-67', VALUE_TYPE: 'WORK' }],
            EMAIL: [{ VALUE: 'ivan@example.com', VALUE_TYPE: 'WORK' }]
        }
    }
);

// Получение списка лидов
BX24.callMethod('crm.lead.list', {
    order: { DATE_CREATE: 'DESC' },
    filter: { STATUS_ID: 'NEW' },
    select: ['ID', 'TITLE', 'NAME', 'LAST_NAME', 'PHONE', 'EMAIL']
});
\`\`\`

#### Работа с задачами:
\`\`\`javascript
// Создание задачи
BX24.callMethod(
    'tasks.task.add',
    {
        fields: {
            TITLE: 'Позвонить клиенту',
            DESCRIPTION: 'Обсудить условия сотрудничества',
            RESPONSIBLE_ID: 1,
            DEADLINE: '2024-12-31T23:59:59+03:00'
        }
    }
);
\`\`\`

### Обработка ошибок:
\`\`\`javascript
BX24.callMethod('crm.lead.add', { fields: data })
    .then(function(result) {
        if (result.error()) {
            console.error('Ошибка:', result.error());
        } else {
            console.log('Лид создан с ID:', result.data());
        }
    });
\`\`\`

## Webhook

### Исходящие Webhook
**Настройка**:
1. Админ панель → Разработчикам → Webhook
2. Выбрать событие (создание лида, изменение сделки)
3. Указать URL обработчика
4. Настроить фильтры

**Пример обработчика (PHP)**:
\`\`\`php
<?php
$input = json_decode(file_get_contents('php://input'), true);

if ($input['event'] == 'ONCRMLEAD_ADD') {
    $leadId = $input['data']['FIELDS']['ID'];
    
    // Отправка в внешнюю систему
    $curl = curl_init();
    curl_setopt($curl, CURLOPT_URL, 'https://external-system.com/api/leads');
    curl_setopt($curl, CURLOPT_POST, true);
    curl_setopt($curl, CURLOPT_POSTFIELDS, json_encode([
        'bitrix_id' => $leadId,
        'name' => $input['data']['FIELDS']['NAME']
    ]));
    curl_exec($curl);
    curl_close($curl);
}
?>
\`\`\`

### Входящие Webhook
Позволяют создавать и изменять данные в Битрикс24 из внешних систем.

**Настройка**:
1. Создать входящий webhook
2. Получить ключ доступа
3. Использовать в запросах

**Пример использования**:
\`\`\`bash
curl -X POST \
  'https://your-domain.bitrix24.ru/rest/1/webhook_key/crm.lead.add' \
  -H 'Content-Type: application/json' \
  -d '{
    "fields": {
      "TITLE": "Лид с сайта",
      "NAME": "Пётр",
      "LAST_NAME": "Сидоров",
      "SOURCE_ID": "WEB"
    }
  }'
\`\`\`

## Практические кейсы интеграций

### Кейс 1: Интеграция интернет-магазина
**Задача**: Автоматически создавать сделки при оформлении заказов

**Решение**:
1. При оформлении заказа на сайте отправляется webhook в Битрикс24
2. Создается контакт/компания (если не существует)
3. Создается сделка с товарами из заказа
4. Назначается ответственный менеджер
5. Отправляется уведомление клиенту

### Кейс 2: Интеграция с IP-телефонией
**Задача**: Связать звонки с CRM-данными

**Решение**:
1. При входящем звонке определяется номер телефона
2. Ищется контакт в Битрикс24 по номеру
3. Если контакт найден - показывается его карточка
4. Если не найден - создается новый лид
5. Запись разговора сохраняется в активности

### Кейс 3: Маркетинговая воронка
**Задача**: Автоматизировать маркетинг от лида до клиента

**Решение**:
1. Лид заполняет форму на сайте → создается в Битрикс24
2. Отправляется в email-сервис для welcome-серии
3. При открытии писем обновляется активность в CRM
4. На основе поведения настраиваются персональные предложения

## Мониторинг интеграций

### Логирование:
- Ведите журнал всех API-запросов
- Сохраняйте ошибки и исключения
- Отслеживайте время выполнения

### Тестирование:
- Регулярно проверяйте работоспособность
- Тестируйте граничные случаи
- Проверяйте целостность данных

### Безопасность:
- Используйте HTTPS для всех запросов
- Ограничивайте доступ по IP
- Регулярно обновляйте ключи доступа

## Лучшие практики

### Производительность:
- Используйте batch-запросы для массовых операций
- Кешируйте часто запрашиваемые данные
- Оптимизируйте количество запросов

### Надежность:
- Реализуйте retry-логику для failed запросов
- Предусмотрите fallback-сценарии
- Мониторьте лимиты API

### Поддержка:
- Документируйте все интеграции
- Обучайте команду работе с интегрированными системами
- Планируйте регулярные обновления`,

  analytics: `# Аналитика и отчетность в Битрикс24

## Введение в аналитику

Аналитика в Битрикс24 помогает принимать решения на основе данных, отслеживать эффективность процессов и достижение целей.

### Основные разделы аналитики:
- **CRM-аналитика** - эффективность продаж
- **Аналитика проектов** - выполнение задач
- **HR-аналитика** - производительность сотрудников
- **Финансовая аналитика** - планирование и контроль бюджета

## CRM-аналитика

### Воронка продаж
**Основные метрики**:
- Количество лидов/сделок на каждой стадии
- Конверсия между стадиями
- Среднее время прохождения воронки
- Средний чек

**Анализ воронки**:
\`\`\`
Стадия 1: Первичный контакт (100 лидов)
↓ Конверсия 30%
Стадия 2: Презентация (30 сделок)
↓ Конверсия 50%
Стадия 3: Переговоры (15 сделок)
↓ Конверсия 60%
Стадия 4: Закрытие (9 успешных сделок)

Общая конверсия: 9%
Средний цикл продаж: 14 дней
\`\`\`

### Отчеты по менеджерам
**KPI менеджера**:
- Количество созданных лидов
- Конверсия лидов в сделки
- Выполнение плана продаж
- Средний размер сделки
- Количество активностей (звонки, встречи)

### Источники лидов
**Отслеживание эффективности**:
- Сайт компании - 40% лидов, конверсия 12%
- Контекстная реклама - 25% лидов, конверсия 8%
- Социальные сети - 20% лидов, конверсия 15%
- Рекомендации - 15% лидов, конверсия 35%

## Настройка отчетов

### Стандартные отчеты
1. **Отчет по продажам**
   - Период: выбираемый
   - Группировка: по менеджерам/периодам/источникам
   - Метрики: сумма, количество, конверсия

2. **Отчет по активности**
   - Звонки, встречи, письма
   - Результативность активностей
   - Время отклика на лиды

### Пользовательские отчеты
**Создание отчета "Эффективность рекламных кампаний"**:
1. Источник данных: Лиды + Сделки
2. Фильтры: 
   - Источник лида = "Реклама"
   - Дата создания = текущий месяц
3. Поля:
   - UTM-метки
   - Количество лидов
   - Конверсия в сделки
   - Сумма закрытых сделок
   - ROI кампании

### Автоматизация отчетов
**Настройка рассылки**:
- Ежедневные сводки для менеджеров
- Еженедельные отчеты для руководства
- Ежемесячные аналитические обзоры

## Аналитика проектов

### Метрики проектов
- **Соблюдение сроков**: % задач выполненных в срок
- **Загрузка команды**: распределение времени по проектам
- **Эффективность**: время выполнения vs. запланированное
- **Качество**: количество возвратов на доработку

### Отчет по времени
\`\`\`
Проект: Разработка сайта
Запланировано: 120 часов
Потрачено: 145 часов
Эффективность: 83%

Распределение времени:
- Дизайн: 35 часов (план: 30)
- Разработка: 85 часов (план: 70)
- Тестирование: 25 часов (план: 20)
\`\`\`

### Диаграмма Ганта
Визуализация:
- Временные рамки задач
- Зависимости между задачами
- Критический путь проекта
- Текущий прогресс

## BI-аналитика

### Подключение к Power BI/Tableau
**Интеграция через REST API**:
1. Настройка подключения к Битрикс24
2. Извлечение данных через API
3. Создание витрин данных
4. Построение дашбордов

**Пример дашборда**:
- KPI в реальном времени
- Тренды продаж
- Географическое распределение клиентов
- Сравнение с предыдущими периодами

### Google Analytics + Битрикс24
**Сквозная аналитика**:
1. Настройка целей в GA
2. Передача UTM-меток в Битрикс24
3. Связывание сессий с лидами
4. Расчет LTV и CAC

## Прогнозирование

### Прогноз продаж
**Методики**:
- На основе воронки продаж
- Анализ сезонности
- Учет планов менеджеров
- Машинное обучение

**Пример прогноза**:
\`\`\`
Текущая воронка: 50 сделок на сумму 5,000,000 руб
Средняя конверсия: 25%
Прогнозируемые продажи: 1,250,000 руб

С учетом сезонности (+15%): 1,437,500 руб
Доверительный интервал: ±200,000 руб
\`\`\`

### ABC-анализ клиентов
**Сегментация**:
- **Группа A** (80% выручки): VIP-клиенты, персональный менеджер
- **Группа B** (15% выручки): регулярные клиенты
- **Группа C** (5% выручки): новые/редкие клиенты

## Мобильная аналитика

### Битрикс24 Mobile
**Ключевые показатели**:
- Активность сотрудников в мобильном приложении
- Время отклика на уведомления
- Геолокация при работе с клиентами

### Push-уведомления
**Аналитика эффективности**:
- Процент открытий уведомлений
- Конверсия в действия
- Время отклика

## Интеграция с внешними системами аналитики

### Google Data Studio
1. Подключение через коннектор Битрикс24
2. Создание автоматически обновляемых отчетов
3. Совмещение с данными из других источников

### Яндекс.Метрика
- Сквозная аналитика от клика до продажи
- Анализ поведения на сайте
- Оценка качества трафика

## Практические кейсы

### Кейс 1: Оптимизация маркетинга
**Задача**: Определить наиболее эффективные каналы привлечения

**Решение**:
1. Настройка UTM-меток для всех каналов
2. Отслеживание пути клиента от первого касания до покупки
3. Расчет LTV/CAC для каждого канала
4. Перераспределение бюджета в пользу эффективных каналов

**Результат**: Увеличение ROI маркетинга на 40%

### Кейс 2: Повышение эффективности продаж
**Проблема**: Низкая конверсия на этапе переговоров

**Анализ**:
- Средняя длительность стадии: 14 дней (норма: 7 дней)
- Конверсия: 35% (норма: 50%)
- Основная причина потерь: цена

**Решение**:
1. Обучение менеджеров техникам работы с возражениями
2. Создание flexible ценовой политики
3. Внедрение скриптов переговоров

**Результат**: Конверсия выросла до 48%

## Лучшие практики

### Культура данных
1. **Регулярные ретроспективы** по данным
2. **Обучение команды** основам аналитики
3. **Принятие решений** на основе данных, а не интуиции

### Качество данных
- Валидация входящих данных
- Очистка дублей и неактуальной информации
- Стандартизация форматов

### Визуализация
- Используйте понятные графики
- Избегайте информационной перегрузки
- Фокусируйтесь на actionable insights

## Заключение

Эффективная аналитика в Битрикс24 требует:
- Четкого понимания бизнес-целей
- Правильной настройки систем сбора данных
- Регулярного анализа и действий по результатам
- Постоянного улучшения процессов на основе данных`
};

export const advancedTests = {
  automation: [
    {
      question: "Какой тип робота используется для автоматической отправки email при создании лиды?",
      options: [
        "Робот активности",
        "Стандартный робот", 
        "Робот интеграции",
        "Триггер времени"
      ],
      correct: 1
    },
    {
      question: "Что такое триггер в автоматизации Битрикс24?",
      options: [
        "Действие, выполняемое при определенном условии",
        "Робот для отправки сообщений",
        "Реакция на события или изменения", 
        "Инструмент для создания задач"
      ],
      correct: 2
    },
    {
      question: "Какой робот НЕ относится к стандартным роботам CRM?",
      options: [
        "Создание задач",
        "Изменение ответственного", 
        "Webhook",
        "Отправка SMS"
      ],
      correct: 2
    },
    {
      question: "Что позволяет настроить A/B тестирование в email-маркетинге?",
      options: [
        "Отправку писем в разное время",
        "Тестирование разных версий сообщений",
        "Выбор аудитории для рассылки",
        "Автоматическую сегментацию"
      ],
      correct: 1
    },
    {
      question: "Какое условие можно использовать в триггере 'Время с момента изменения'?",
      options: [
        "30 дней без активности",
        "Изменение суммы сделки", 
        "Создание нового контакта",
        "Получение email от клиента"
      ],
      correct: 1
    }
  ],
  
  integration: [
    {
      question: "Какой метод REST API используется для создания нового лида?",
      options: [
        "crm.lead.create",
        "crm.lead.add",
        "crm.lead.new", 
        "crm.lead.insert"
      ],
      correct: 1
    },
    {
      question: "Что такое Webhook в контексте интеграций Битрикс24?",
      options: [
        "Способ получения уведомлений о событиях",
        "Метод для создания задач",
        "Инструмент для настройки роботов", 
        "Функция для работы с файлами"
      ],
      correct: 0
    },
    {
      question: "Какие данные обычно синхронизируются при интеграции с 1С?",
      options: [
        "Только контрагенты",
        "Контрагенты, номенклатура, документы",
        "Только товары и цены", 
        "Только финансовые операции"
      ],
      correct: 1
    },
    {
      question: "Для чего используется входящий Webhook?",
      options: [
        "Для получения уведомлений из Битрикс24",
        "Для создания данных в Битрикс24 из внешних систем",
        "Для синхронизации с социальными сетями", 
        "Для резервного копирования"
      ],
      correct: 1
    },
    {
      question: "Какой заголовок обязательно нужно указать при REST API запросах?",
      options: [
        "Authorization",
        "Content-Type: application/json",
        "User-Agent", 
        "Accept-Language"
      ],
      correct: 1
    }
  ],

  analytics: [
    {
      question: "Что показывает конверсия воронки продаж?",
      options: [
        "Общее количество сделок",
        "Процент перехода лидов между стадиями",
        "Средний размер сделки", 
        "Время закрытия сделок"
      ],
      correct: 1
    },
    {
      question: "Какая метрика НЕ является KPI менеджера по продажам?",
      options: [
        "Количество созданных лидов",
        "Конверсия лидов в сделки",
        "Время работы в системе", 
        "Выполнение плана продаж"
      ],
      correct: 2
    },
    {
      question: "Что такое ABC-анализ клиентов?",
      options: [
        "Анализ активности клиентов",
        "Сегментация клиентов по алфавиту",
        "Группировка клиентов по доходности", 
        "Оценка лояльности клиентов"
      ],
      correct: 2
    },
    {
      question: "Для чего используется диаграмма Ганта в проектах?",
      options: [
        "Для анализа бюджета проекта",
        "Для визуализации временных рамок и зависимостей задач",
        "Для распределения ролей в команде", 
        "Для оценки рисков проекта"
      ],
      correct: 1
    },
    {
      question: "Что означает метрика LTV в аналитике?",
      options: [
        "Время жизни клиента",
        "Пожизненную ценность клиента",
        "Стоимость привлечения клиента", 
        "Частоту покупок клиента"
      ],
      correct: 1
    }
  ]
};

export const bitrixCourseStructure = {
  courses: [
    {
      title: "Продвинутая автоматизация Битрикс24",
      description: "Настройка сложных сценариев автоматизации, роботов и триггеров для оптимизации бизнес-процессов",
      lessons: [
        {
          title: "Введение в автоматизацию",
          content: advancedLessons.automation.substring(0, 1500) + "..."
        },
        {
          title: "Настройка роботов CRM",
          content: advancedLessons.automation.substring(1500, 3000) + "..."
        },
        {
          title: "Триггеры и условия",
          content: advancedLessons.automation.substring(3000, 4500) + "..."
        },
        {
          title: "Маркетинговая автоматизация",
          content: advancedLessons.automation.substring(4500, 6000) + "..."
        }
      ]
    },
    {
      title: "Интеграции и API Битрикс24",
      description: "Подключение внешних систем, работа с REST API, настройка webhook и создание собственных интеграций",
      lessons: [
        {
          title: "Обзор возможностей интеграции",
          content: advancedLessons.integration.substring(0, 1500) + "..."
        },
        {
          title: "REST API и разработка",
          content: advancedLessons.integration.substring(1500, 3000) + "..."
        },
        {
          title: "Webhook и обмен данными",
          content: advancedLessons.integration.substring(3000, 4500) + "..."
        },
        {
          title: "Практические кейсы интеграций",
          content: advancedLessons.integration.substring(4500) + "..."
        }
      ]
    },
    {
      title: "Аналитика и BI в Битрикс24",
      description: "Создание отчетов, настройка аналитики, интеграция с BI-системами и принятие решений на основе данных",
      lessons: [
        {
          title: "Основы аналитики CRM",
          content: advancedLessons.analytics.substring(0, 1500) + "..."
        },
        {
          title: "Настройка отчетов и дашбордов",
          content: advancedLessons.analytics.substring(1500, 3000) + "..."
        },
        {
          title: "Прогнозирование и планирование",
          content: advancedLessons.analytics.substring(3000, 4500) + "..."
        },
        {
          title: "Интеграция с BI-системами",
          content: advancedLessons.analytics.substring(4500) + "..."
        }
      ]
    }
  ]
};